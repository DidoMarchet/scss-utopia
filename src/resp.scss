/// Create responsive rules based on breakpoints
/// @author Davide Marchet
/// @param {List} $properties - Key:value list, name is required ('name': 'css property', 'small': value, medium: value, [...])
/// @require react

@mixin resp($properties...) {
  $breakpointsList: ();

  @each $property in $properties {
      $brekpoints: map.remove($property, 'name');
      @each $brekpoint in map.keys($brekpoints) {
        $breakpointsList: list.append($breakpointsList, $brekpoint, $separator: comma);
      }
  }

  $breakpointsList: remove-duplicates($breakpointsList);

  @each $breakpoint in $breakpointsList {
    @include react(#{$breakpoint}){
      @each $property in $properties {
        @if map.has-key($property, 'name') {
          @if map.has-key($property, $breakpoint) {
            #{map.get($property, 'name')}: #{map.get($property, $breakpoint)};
          }
        }
        @else {
          @error "Property 'name' is required.";
        }
      }
    }
  }
}
